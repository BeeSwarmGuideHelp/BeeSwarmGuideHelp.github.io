<!-- Your web app's Firebase configuration -->
<script>
    const firebaseConfig = {
        apiKey: "AIzaSyCXYQkC8B7f_dlGSinNjZat8b8Ux-xvcGc",
        authDomain: "beeswarmguidehelp.firebaseapp.com",
        projectId: "beeswarmguidehelp",
        storageBucket: "beeswarmguidehelp.appspot.com",
        messagingSenderId: "817463728663",
        appId: "1:817463728663:web:e4416b202ea4b979129a52",
        measurementId: "G-EPXXDRSSDE"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const firestore = firebase.firestore();
</script>

<!-- Include Axios library for making HTTP requests -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- Your OpenAI GPT API key -->
<script>
    const openaiApiKey = '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';
</script>

<style>
    /* Add your custom styles here */
</style>

<body>
    <header>
        Admin Control Panel
    </header>

    <button onclick="signOut()">Sign Out</button>

    <h2>Chat with ChatGPT:</h2>
    <div id="chatContainer"></div>
    <input type="text" id="userInput" placeholder="Type a message...">
    <button onclick="sendMessage()">Send</button>

    <script>
        function signOut() {
            auth.signOut().then(() => {
                // Sign-out successful.
                window.location.href = "login.html"; // Redirect to login page after sign out
            }).catch((error) => {
                console.error("Sign out error:", error);
            });
        }

        function sendMessage() {
            const userInput = document.getElementById('userInput').value;
            const chatContainer = document.getElementById('chatContainer');

            // Display user message
            chatContainer.innerHTML += `<div>User: ${userInput}</div>`;

            // Send user message to server (server handles OpenAI API request)
            axios.post('/api/chat', { userInput, openaiApiKey })
                .then(response => {
                    // Display ChatGPT response
                    chatContainer.innerHTML += `<div>ChatGPT: ${response.data.response}</div>`;
                })
                .catch(error => {
                    console.error('Error interacting with OpenAI API:', error);
                    chatContainer.innerHTML += '<div>Error communicating with ChatGPT</div>';
                });
        }
    </script>
</body>
